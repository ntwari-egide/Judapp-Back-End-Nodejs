{"remainingRequest":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ntwari/Documents/judapp/frontend/src/components/loginClient.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ntwari/Documents/judapp/frontend/src/components/loginClient.vue","mtime":1592227811972},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js","mtime":1588020407874},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js","mtime":1588020497251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIi4uL2h0dHAtY29tbW9uIgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciIKZXhwb3J0IGRlZmF1bHQoewogICBuYW1lOiAic2lnbnVwQ2xpZW50IiwKICAgZGF0YSgpewogICAgICAgcmV0dXJuewogICAgICAgICAgIGNsZWludDp7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICBwaG9uZU51bWJlcjoiIiwgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIHBhc3N3b3JkOiIiCiAgICAgICAgICAgfSwKICAgICAgICAgICBhdXRoZW50aWNhdGVkQ2xpZW50IDogdGhpcy4kc2Vzc2lvbi5nZXQoImNsaWVudCIpLAogICAgICAgICAgIGNsaWVudElkOiAiIiwKICAgICAgICAgICB3b3Jrc3BhY2VJZDogIiIsCiAgICAgICAgICAgY2FiaW5ldElkOiAiIiwKICAgICAgICAgICB3b3Jrc3BhY2UgOiB0aGlzLiRzZXNzaW9uLmdldCgid29ya3NwYWNlcyIpLAogICAgICAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgICAgICAgbm90QXV0aG9yaXplZDogZmFsc2UsCiAgICAgICAgICAgbWVzc2FnZTogIiIKICAgICAgIH0KICAgfSwKICAgbWV0aG9kczp7CiAgICAgICAgc2lnbnVwTm93IDogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0geyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBwaG9uZU51bWJlciA6IHRoaXMuY2xlaW50LnBob25lTnVtYmVyLAogICAgICAgICAgICAgICAgcGFzc3dvcmQgOiB0aGlzLmNsZWludC5wYXNzd29yZAogICAgICAgICAgICB9CiAgICAgICAgICAgICBodHRwCiAgICAgICAgICAgIC5wb3N0KCJjbGllbnRzL2xvZ2luIixkYXRhKQogICAgICAgICAgICAudGhlbiggYXN5bmMgKHJlc3BvbnNlKT0+ewogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gYXdhaXQgcmVzcG9uc2UKICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5yZXN1bHRzID09ICcwJyl7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdEF1dGhvcml6ZWQgPSB0cnVlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZWRDbGllbnQgPSByZXNwb25zZS5kYXRhLnVzZXIKICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLmRlc3Ryb3koKQogICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKQogICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCdqd3QnLHJlc3BvbnNlLmRhdGEudG9rZW4pCiAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MuY3JlYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJysgcmVzcG9uc2UuZGF0YS50b2tlbiAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsgIAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnY2xpZW50JyxyZXNwb25zZS5kYXRhLnVzZXIpIAoKICAgICAgICAgICAgICAgICAgICAgICAgaHR0cC5nZXQoIi93b3Jrc3BhY2VzL3dvcmtzcGFjZUJ5Q2xpZW50SWQvNWViNWY2OGZiYzRmOWZjODljNWYxYzg4IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmtzcGFjZSA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJ3b3Jrc3BhY2VzIixyZXNwb25zZS5kYXRhLmRhdGEpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgIAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gKQoKCiAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgZ290b0Rhc2hib2FyZCA6IGZ1bmN0aW9uKGNsaWVudElkLHdvcmtzcGFjZUlkLGNhYmluZXRJZCl7CiAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJjbGllbnRJZCIsY2xpZW50SWQpOyAgCiAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJ3b3Jrc3BhY2VJZCIsd29ya3NwYWNlSWQpOwogICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiY2FiaW5ldElkIixjYWJpbmV0SWQpOwogICAgICAgICAgICByb3V0ZXIucHVzaCgiL2Rhc2hib2FyZCIpCiAgICAgICAgfSwKICAgICAgICBsb2dpbkFnYWluOiBhc3luYyBmdW5jdGlvbigpewogICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMubm90QXV0aG9yaXplZCA9IGZhbHNlCiAgICAgICAgfSAgICAgICAgICAgCiAgIH0KfSkK"},{"version":3,"sources":["loginClient.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginClient.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"login-page\">\n        <router-link class=\"go-on-other-page\" :to=\"{name: 'attorney-login'}\"> Login Attorney &rarr;</router-link>\n        <div class=\"container loginContainer row align-items-center\">            \n            <div class=\"login-page-title\">\n                <h2>LOGIN CLIENT</h2>\n            </div>\n            <div class=\"form-container\" v-if=\"!submitted\">\n                <hr class=\"top-line\">\n                <input type=\"text\" placeholder=\"Phone number\" v-model=\"cleint.phoneNumber\"> <br><br>\n                <input type=\"password\" placeholder=\"Password\" v-model=\"cleint.password\"> <br><br>\n                <button @click=\"signupNow\">Login Now</button><br>\n                  <router-link id=\"loginButton\" class=\"Idont-have\" :to=\"{name: 'signupClient'}\"> I don't have account ,<span>Create account</span></router-link>\n                <hr class=\"bottom-line\">\n            </div>\n            <div  v-if=\"submitted\">\n                <div class=\"continueToDashbord\" v-if=\"notAuthorized\">\n                    <p class=\"text-danger\">Please , your login credentials are not correct</p>\n                    <button @click=\"loginAgain\">login again </button>\n                </div>\n                <div class=\"continueToDashbord\" v-else>\n                    <p class=\"text-success\">Authenticated now</p>\n                    <li v-for=\"(works, index) in workspace\" :key=\"index\" style=\"display: none\">\n                       {{workspaceId = works._id}}\n                       {{ cabinetId = works.cabinetId}}\n                    </li> \n                     <li v-for=\"(client, index) in authenticatedClient\" :key=\"index\" style=\"display: none\">\n                       {{ clientId = client._id}}                       \n                    </li>\n                    <button @click=\"gotoDashboard(clientId,workspaceId,cabinetId)\">Continue To Dashboard </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import http from \"../http-common\"\n    import axios from \"axios\";\n    import router from \"../router\"\n    export default({\n       name: \"signupClient\",\n       data(){\n           return{\n               cleint:{                \n                phoneNumber:\"\",                \n                password:\"\"\n               },\n               authenticatedClient : this.$session.get(\"client\"),\n               clientId: \"\",\n               workspaceId: \"\",\n               cabinetId: \"\",\n               workspace : this.$session.get(\"workspaces\"),\n               submitted: false,\n               notAuthorized: false,\n               message: \"\"\n           }\n       },\n       methods:{\n            signupNow : async function() {\n                var data = {                    \n                    phoneNumber : this.cleint.phoneNumber,\n                    password : this.cleint.password\n                }\n                 http\n                .post(\"clients/login\",data)\n                .then( async (response)=>{\n                    this.message = await response\n                      if(response.data.results == '0'){\n                          this.notAuthorized = true\n                      }\n                      else{\n                           this.authenticatedClient = response.data.user\n                           this.$session.destroy()\n                           this.$session.start()\n                           this.$session.set('jwt',response.data.token)\n                           axios.create({\n                            headers: {\n                                  'Authorization': 'Bearer '+ response.data.token             \n                               }\n                            });  \n                            this.$session.set('client',response.data.user) \n\n                            http.get(\"/workspaces/workspaceByClientId/5eb5f68fbc4f9fc89c5f1c88\")\n                                .then( (response) => {\n                                    this.workspace = response.data.data\n                                    this.$session.set(\"workspaces\",response.data.data)                                    \n                                })   \n                      }\n                } )\n\n\n                this.submitted = true\n            },\n            gotoDashboard : function(clientId,workspaceId,cabinetId){\n                this.$session.set(\"clientId\",clientId);  \n                this.$session.set(\"workspaceId\",workspaceId);\n                this.$session.set(\"cabinetId\",cabinetId);\n                router.push(\"/dashboard\")\n            },\n            loginAgain: async function(){\n                this.submitted = false\n                this.notAuthorized = false\n            }           \n       }\n    })\n</script>"]}]}