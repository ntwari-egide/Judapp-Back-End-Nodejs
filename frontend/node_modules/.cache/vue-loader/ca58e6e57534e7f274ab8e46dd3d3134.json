{"remainingRequest":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ntwari/Documents/judapp/frontend/src/components/dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ntwari/Documents/judapp/frontend/src/components/dashboard.vue","mtime":1590413356032},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js","mtime":1588020407874},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js","mtime":1588020497251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIi4uL2h0dHAtY29tbW9uIgpleHBvcnQgZGVmYXVsdCAoewogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNsaWVudElkOiAiIiwKICAgICAgICAgICAgd29ya3NwYWNlOiB0aGlzLiRzZXNzaW9uLmdldCgnd29ya3NwYWNlcycpLAogICAgICAgICAgICBnZW5lcmFsTXNnIDogW10sCiAgICAgICAgICAgIG1lc3NhZ2U6IHsKICAgICAgICAgICAgICAgIG1zZzogJ3R5cGUgaGVyZScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3RhcnRPZkNvbnZlcnNhdGlvbjogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCF0aGlzLiRzZXNzaW9uLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldEdlbmVyYWxNZXNzYWdlcyA6IGZ1bmN0aW9uKCl7CgogICAgICAgICAgICBodHRwLmdldCgibWVzc2FnZXMvYnlXb3Jrc3BhY2VJZC81ZWI3MjRjMmYxMWI5NDNhM2NiY2JjMTAiKQogICAgICAgICAgICAudGhlbiggKHJlc3BvbnNlKT0+ewogICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEubWVzc2FnZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRPZkNvbnZlcnNhdGlvbiA9IHRydWUKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZW5lcmFsTXNnID0gcmVzcG9uc2UuZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgfSAgIAogICAgICAgICAgICB9KSAKICAgICAgICB9LAogICAgICAgIHNlbmRHZW5lcmFsTXNnOiBhc3luYyAod29ya3NwYWNlSWQsY2xpZW50SWQpPT57CiAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgd29ya3NwYWNlSWQ6d29ya3NwYWNlSWQsCiAgICAgICAgICAgICAgICBnZW5lcmFsIDp0cnVlLAogICAgICAgICAgICAgICAgc2VuZGVyc0lkOmNsaWVudElkLAogICAgICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQ6ICJ0aGUgbWVzc2FnZSBvZiBoZXJlIgogICAgICAgICAgICB9CgogICAgICAgICAgICBodHRwLnBvc3QoIm1lc3NhZ2VzIixkYXRhKQogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5yZWZyZXNoTGlzdCgpCiAgICAgICAgfSwKICAgICAgICByZWZyZXNoTGlzdCgpIHsKICAgICAgICAgICAgdGhpcy5nZXRHZW5lcmFsTWVzc2FnZXMoKTsKICAgICAgICB9ICAgICAgICAgICAKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0R2VuZXJhbE1lc3NhZ2VzKCkKICAgIH0KfSkK"},{"version":3,"sources":["dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <li v-for=\"(works, index) in workspace\" :key=\"index\"   style=\"display: none\">         \n            <p>{{workspaceId = works._id}}</p>       \n         <li v-for=\"(client, index) in this.$session.get('client')\" :key=\"index\">         \n                           <p  style=\"display: none\">{{clientId = client._id}}</p>\n\n<!--                            DASHBOARD STARTS HERE -->\n\n             <div class=\"main-container\">\n                <div class=\"action-pane left-pane\">\n                    <div class=\"profile\">\n                        <ul>\n                            <li>{{client.fullName}}</li>\n                        </ul>\n                    </div>\n                    <div class=\"location\">\n                        <ul>\n                            <li>{{client.provinceLoc}}  </li>    \n                            <li>{{client.districtLoc}}  </li> \n                            <li>{{client.sectorLoc}}  </li>                 \n                        </ul>\n                    </div>\n                    <div class=\"nav-bar\">\n                        <ul>\n                            <li><a href=\"#\">@general</a></li>\n                            <li><a href=\"\">@cabinet</a></li>\n                            <li><a href=\"\">@laws</a></li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"action-pane center-pane\">\n\n                </div>\n                <div class=\"right-pane\">\n                      <div class=\"action-pane searchBox\"></div>                      \n                      <div class=\"action-pane chat-body-area\">\n                           <div v-if=\"startOfConversation\">\n                                <p class=\"danger\">Start of general conversation</p>\n                                {{clientId}}{{generalMsg}}{{workspaceId}}\n                           </div>\n                           <div v-else>\n                               All messages in general\n                                <ul v-for=\"(msg, index) in generalMsg\" :key=\"index\"> \n                                        <li>{{msg}}</li>\n                                </ul>\n                           </div>\n                      </div>\n                      <div class=\"action-pane chat-input-area\">\n                         <input @keyup.enter=\"sendGeneralMsg(workspaceId,clientId)\" type=\"text\" name=\"message\" v-model=\"message.msg\">\n                      </div>\n                </div>\n              </div>\n              <router-view @refreshData=\"refreshList\"></router-view>\n              \n              \n         </li> \n    </div>     \n</template>\n<script>\n    import http from \"../http-common\"\n    export default ({\n        data(){\n            return {\n                clientId: \"\",\n                workspace: this.$session.get('workspaces'),\n                generalMsg : [],\n                message: {\n                    msg: 'type here'\n                },\n                startOfConversation: false\n            }\n        },\n        beforeCreate: function () {\n            if (!this.$session.exists()) {\n                    this.$router.push('/login')\n            }\n        },\n        methods: {\n            getGeneralMessages : function(){\n\n                http.get(\"messages/byWorkspaceId/5eb724c2f11b943a3cbcbc10\")\n                .then( (response)=>{\n                     if(response.data.message){\n                            this.startOfConversation = true\n                     }\n                     else{\n                         this.generalMsg = response.data.data\n                     }   \n                }) \n            },\n            sendGeneralMsg: async (workspaceId,clientId)=>{\n                var data = {\n                    workspaceId:workspaceId,\n                    general :true,\n                    sendersId:clientId,\n                    messageContent: \"the message of here\"\n                }\n\n                http.post(\"messages\",data)\n                \n                this.refreshList()\n            },\n            refreshList() {\n                this.getGeneralMessages();\n            }           \n        },\n        mounted() {\n            this.getGeneralMessages()\n        }\n    })\n</script>\n"]}]}