{"remainingRequest":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ntwari/Documents/judapp/frontend/src/components/loginAttorney.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ntwari/Documents/judapp/frontend/src/components/loginAttorney.vue","mtime":1592244311824},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js","mtime":1588020407874},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js","mtime":1588020497251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gIi4uL2h0dHAtY29tbW9uIgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciIKZXhwb3J0IGRlZmF1bHQoewogICBuYW1lOiAic2lnbnVwQ2xpZW50IiwKICAgZGF0YSgpewogICAgICAgcmV0dXJuewogICAgICAgICAgIGF0dG9ybmV5OnsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGVtYWlsOiIiLCAgICAgICAgICAgICAgICAKICAgICAgICAgICAgcGFzc3dvcmQ6IiIKICAgICAgICAgICB9LAogICAgICAgICAgIGF1dGhlbnRpY2F0ZWRBdHRvcm5leSA6IHRoaXMuJHNlc3Npb24uZ2V0KCJhdHRvcm5leSIpLAogICAgICAgICAgIGNsaWVudElkOiAiIiwKICAgICAgICAgICB3b3Jrc3BhY2VJZDogIiIsCiAgICAgICAgICAgY2FiaW5ldElkOiAiIiwKICAgICAgICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICAgICAgIG5vdEF1dGhvcml6ZWQ6IGZhbHNlLAogICAgICAgICAgIG1lc3NhZ2U6ICIiCiAgICAgICB9CiAgIH0sCiAgIG1ldGhvZHM6ewogICAgICAgIHNpZ251cE5vdyA6IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgZGF0YSA9IHsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZW1haWwgOiB0aGlzLmF0dG9ybmV5LmVtYWlsLAogICAgICAgICAgICAgICAgcGFzc3dvcmQgOiB0aGlzLmF0dG9ybmV5LnBhc3N3b3JkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgIGh0dHAKICAgICAgICAgICAgLnBvc3QoImF0dG9ybmV5cy9sb2dpbiIsZGF0YSkKICAgICAgICAgICAgLnRoZW4oIGFzeW5jIChyZXNwb25zZSk9PnsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGF3YWl0IHJlc3BvbnNlCiAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEucmVzdWx0cyA9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90QXV0aG9yaXplZCA9IHRydWUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0aGVudGljYXRlZEF0dG9ybmV5ID0gcmVzcG9uc2UuZGF0YS51c2VyCiAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCkKICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCkKICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnand0JyxyZXNwb25zZS5kYXRhLnRva2VuKQogICAgICAgICAgICAgICAgICAgICAgIGF4aW9zLmNyZWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcrIHJlc3BvbnNlLmRhdGEudG9rZW4gICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ2F0dG9ybmV5JyxyZXNwb25zZS5kYXRhLnVzZXIpIAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gKQoKCiAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgZ290b0Rhc2hib2FyZCA6IGZ1bmN0aW9uKGF0dG9ybmV5SWQsY2FiaW5ldElkKXsKICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoImF0dG9ybmV5SWQiLGF0dG9ybmV5SWQpOyAgCiAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJjYWJpbmV0SWQiLGNhYmluZXRJZCk7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkQXR0b3JuZXkiKQogICAgICAgIH0sCiAgICAgICAgbG9naW5BZ2FpbjogYXN5bmMgZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZQogICAgICAgICAgICB0aGlzLm5vdEF1dGhvcml6ZWQgPSBmYWxzZQogICAgICAgIH0gICAgICAgICAgIAogICB9Cn0pCg=="},{"version":3,"sources":["loginAttorney.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loginAttorney.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"login-page\">\n        <router-link class=\"go-on-other-page\" :to=\"{name: 'loginClient'}\"> Login Client &rarr;</router-link>\n        <div class=\"container loginContainer row align-items-center\">   \n            <div class=\"login-page-title\">\n                <h2>LOGIN ATTORNEY</h2>\n            </div>\n            <div class=\"form-container\" v-if=\"!submitted\">\n                <hr class=\"top-line\">\n                <input type=\"email\" placeholder=\"Email \" v-model=\"attorney.email\"> <br><br>\n                <input type=\"password\" placeholder=\"Password\" v-model=\"attorney.password\"> <br><br>\n                <button @click=\"signupNow\">Login Now</button><br>\n                <router-link id=\"loginButton\" class=\"Idont-have\" :to=\"{name: 'attorney-login'}\"> I don't have account ,<span>Create account</span></router-link>\n                <hr class=\"bottom-line\">\n            </div>\n            <div v-else>\n                <div v-if=\"notAuthorized\">\n                    <div class=\"container danger\">Please email or password is incorect .</div>\n                    <button @click=\"loginAgain\">login again </button>\n                </div>\n                <div v-else>\n                    <p class=\"text-success\">Logged In </p>                   \n                     <li v-for=\"(attorney, index) in authenticatedAttorney\" :key=\"index\">    \n                    <button @click=\"gotoDashboard(attorney._id,attorney.cabinetId)\">Continue To Dashboard </button>\n                    </li>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import http from \"../http-common\"\n    import axios from \"axios\";\n    import router from \"../router\"\n    export default({\n       name: \"signupClient\",\n       data(){\n           return{\n               attorney:{                \n                email:\"\",                \n                password:\"\"\n               },\n               authenticatedAttorney : this.$session.get(\"attorney\"),\n               clientId: \"\",\n               workspaceId: \"\",\n               cabinetId: \"\",\n               submitted: false,\n               notAuthorized: false,\n               message: \"\"\n           }\n       },\n       methods:{\n            signupNow : async function() {\n                var data = {                    \n                    email : this.attorney.email,\n                    password : this.attorney.password\n                }\n                 http\n                .post(\"attorneys/login\",data)\n                .then( async (response)=>{\n                    this.message = await response\n                      if(response.data.results == 0){\n                          this.notAuthorized = true\n                      }\n                      else{\n                           this.authenticatedAttorney = response.data.user\n                           this.$session.destroy()\n                           this.$session.start()\n                           this.$session.set('jwt',response.data.token)\n                           axios.create({\n                            headers: {\n                                  'Authorization': 'Bearer '+ response.data.token             \n                               }\n                            });  \n                            this.$session.set('attorney',response.data.user) \n                      }\n                } )\n\n\n                this.submitted = true\n            },\n            gotoDashboard : function(attorneyId,cabinetId){\n                this.$session.set(\"attorneyId\",attorneyId);  \n                this.$session.set(\"cabinetId\",cabinetId);\n                router.push(\"/dashboardAttorney\")\n            },\n            loginAgain: async function(){\n                this.submitted = false\n                this.notAuthorized = false\n            }           \n       }\n    })\n</script>"]}]}