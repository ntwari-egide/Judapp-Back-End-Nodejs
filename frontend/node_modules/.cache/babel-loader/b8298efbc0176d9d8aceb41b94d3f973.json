{"remainingRequest":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js!/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ntwari/Documents/judapp/frontend/src/components/dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ntwari/Documents/judapp/frontend/src/components/dashboard.vue","mtime":1590413111888},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js","mtime":1588020407874},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js","mtime":1588020497251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvbnR3YXJpL0RvY3VtZW50cy9qdWRhcHAvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIF90aGlzMiA9IHRoaXM7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgaHR0cCBmcm9tICIuLi9odHRwLWNvbW1vbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xpZW50SWQ6ICIiLAogICAgICB3b3Jrc3BhY2U6IHRoaXMuJHNlc3Npb24uZ2V0KCd3b3Jrc3BhY2VzJyksCiAgICAgIGdlbmVyYWxNc2c6IFtdLAogICAgICBtZXNzYWdlOiB7CiAgICAgICAgbXNnOiAndHlwZSBoZXJlJwogICAgICB9LAogICAgICBzdGFydE9mQ29udmVyc2F0aW9uOiBmYWxzZQogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgaWYgKCF0aGlzLiRzZXNzaW9uLmV4aXN0cygpKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEdlbmVyYWxNZXNzYWdlczogZnVuY3Rpb24gZ2V0R2VuZXJhbE1lc3NhZ2VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaHR0cC5nZXQoIm1lc3NhZ2VzL2J5V29ya3NwYWNlSWQvNWViNzI0YzJmMTFiOTQzYTNjYmNiYzEwIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgICAgICBfdGhpcy5zdGFydE9mQ29udmVyc2F0aW9uID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZ2VuZXJhbE1zZyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNlbmRHZW5lcmFsTXNnOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2VuZEdlbmVyYWxNc2cgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUod29ya3NwYWNlSWQsIGNsaWVudElkKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZUlkLAogICAgICAgICAgICAgICAgICBnZW5lcmFsOiB0cnVlLAogICAgICAgICAgICAgICAgICBzZW5kZXJzSWQ6IGNsaWVudElkLAogICAgICAgICAgICAgICAgICBtZXNzYWdlQ29udGVudDogInRoZSBtZXNzYWdlIG9mIGhlcmUiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaHR0cC5wb3N0KCJtZXNzYWdlcyIsIGRhdGEpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5yZWZyZXNoTGlzdCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VuZEdlbmVyYWxNc2coX3gsIF94MikgewogICAgICAgIHJldHVybiBfc2VuZEdlbmVyYWxNc2cuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNlbmRHZW5lcmFsTXNnOwogICAgfSgpLAogICAgcmVmcmVzaExpc3Q6IGZ1bmN0aW9uIHJlZnJlc2hMaXN0KCkgewogICAgICB0aGlzLmdldEdlbmVyYWxNZXNzYWdlcygpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0R2VuZXJhbE1lc3NhZ2VzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,IAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,YAAA,CAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA;AACA,QAAA,GAAA,EAAA;AADA,OAJA;AAOA,MAAA,mBAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,YAAA,EAAA,wBAAA;AACA,QAAA,CAAA,KAAA,QAAA,CAAA,MAAA,EAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,kBAAA,EAAA,8BAAA;AAAA;;AAEA,MAAA,IAAA,CAAA,GAAA,CAAA,iDAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,mBAAA,GAAA,IAAA;AACA,SAFA,MAGA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,OARA;AASA,KAZA;AAaA,IAAA,cAAA;AAAA,oFAAA,iBAAA,WAAA,EAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA;AACA,kBAAA,WAAA,EAAA,WADA;AAEA,kBAAA,OAAA,EAAA,IAFA;AAGA,kBAAA,SAAA,EAAA,QAHA;AAIA,kBAAA,cAAA,EAAA;AAJA,iBADA;AAQA,gBAAA,IAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,WAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAbA;AAwBA,IAAA,WAxBA,yBAwBA;AACA,WAAA,kBAAA;AACA;AA1BA,GAjBA;AA6CA,EAAA,OA7CA,qBA6CA;AACA,SAAA,kBAAA;AACA;AA/CA,CAAA","sourcesContent":["<template>\n    <div>\n        <li v-for=\"(works, index) in workspace\" :key=\"index\"   style=\"display: none\">         \n            <p>{{workspaceId = works._id}}</p>       \n         <li v-for=\"(client, index) in this.$session.get('client')\" :key=\"index\">         \n                           <p  style=\"display: none\">{{clientId = client._id}}</p>\n\n<!--                            DASHBOARD STARTS HERE -->\n\n             <div class=\"main-container\">\n                <div class=\"action-pane left-pane\">\n                    <div class=\"profile\">\n                        <ul>\n                            <li>{{client.fullName}}</li>\n                        </ul>\n                    </div>\n                    <div class=\"location\">\n                        <ul>\n                            <li>{{client.provinceLoc}}  </li>    \n                            <li>{{client.districtLoc}}  </li> \n                            <li>{{client.sectorLoc}}  </li>                 \n                        </ul>\n                    </div>\n                    <div class=\"nav-bar\">\n                        <ul>\n                            <li><a href=\"#\">@general</a></li>\n                            <li><a href=\"\">@cabinet</a></li>\n                            <li><a href=\"\">@laws</a></li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"action-pane center-pane\">\n\n                </div>\n                <div class=\"right-pane\">\n                      <div class=\"action-pane searchBox\"></div>                      \n                      <div class=\"action-pane chat-body-area\">\n                           <div v-if=\"startOfConversation\">\n                                <p class=\"danger\">Start of general conversation</p>\n                                {{clientId}}{{generalMsg}}{{workspaceId}}\n                           </div>\n                           <div v-else>\n                               All messages in general\n                                <ul v-for=\"(msg, index) in generalMsg\" :key=\"index\"> \n                                        <li>{{msg}}</li>\n                                </ul>\n                           </div>\n                      </div>\n                      <div class=\"action-pane chat-input-area\">\n                         <input @keyup.enter=\"sendGeneralMsg(workspaceId,clientId)\" type=\"text\" name=\"message\" v-model=\"message.msg\">\n                      </div>\n                </div>\n              </div>\n              <router-view @refreshData=\"refreshList\"></router-view>\n              \n              \n         </li> \n    </div>     \n</template>\n<script>\n    import http from \"../http-common\"\n    export default ({\n        data(){\n            return {\n                clientId: \"\",\n                workspace: this.$session.get('workspaces'),\n                generalMsg : [],\n                message: {\n                    msg: 'type here'\n                },\n                startOfConversation: false\n            }\n        },\n        beforeCreate: function () {\n            if (!this.$session.exists()) {\n                    this.$router.push('/login')\n            }\n        },\n        methods: {\n            getGeneralMessages : function(){\n\n                http.get(\"messages/byWorkspaceId/5eb724c2f11b943a3cbcbc10\")\n                .then( (response)=>{\n                     if(response.data.message){\n                            this.startOfConversation = true\n                     }\n                     else{\n                         this.generalMsg = response.data.data\n                     }   \n                }) \n            },\n            sendGeneralMsg: async (workspaceId,clientId)=>{\n                var data = {\n                    workspaceId:workspaceId,\n                    general :true,\n                    sendersId:clientId,\n                    messageContent: \"the message of here\"\n                }\n\n                http.post(\"messages\",data)\n                this.refreshList()\n            },\n            refreshList() {\n                this.getGeneralMessages();\n            }           \n        },\n        mounted() {\n            this.getGeneralMessages()\n        }\n    })\n</script>\n"],"sourceRoot":"src/components"}]}