{"remainingRequest":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js!/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ntwari/Documents/judapp/frontend/src/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ntwari/Documents/judapp/frontend/src/components/login.vue","mtime":1588679755536},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js","mtime":1588020407874},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js","mtime":1588020497251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvbnR3YXJpL0RvY3VtZW50cy9qdWRhcHAvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgaHR0cCBmcm9tICIuLi9odHRwLWNvbW1vbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIGVyckZvdW5kOiBmYWxzZSwKICAgICAgZGF0YUZvdW5kOiBmYWxzZSwKICAgICAgZXJyQ29udGFpbmVyOiB7CiAgICAgICAgc3RhdHVzQ29kZTogMCwKICAgICAgICBzdGF0dXM6ICIiLAogICAgICAgIGVyck1lc3NhZ2U6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpblRvTmF0b3VyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9naW5Ub05hdG91ciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnVzZXIuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnVzZXIucGFzc3dvcmQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBodHRwLnBvc3QoInVzZXJzL2xvZ2luIiwgZGF0YSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSAiRXJyb3IiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVyckZvdW5kID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuc3RhdHVzQ29kZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyQ29udGFpbmVyLnN0YXR1c0NvZGUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5zdGF0dXM7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVyckNvbnRhaW5lci5zdGF0dXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVyckNvbnRhaW5lci5lcnJNZXNzYWdlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJzdWNjZXNzIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhRm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5tZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW5Ub05hdG91cigpIHsKICAgICAgICByZXR1cm4gX2xvZ2luVG9OYXRvdXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ2luVG9OYXRvdXI7CiAgICB9KCksCiAgICBsb2dpbkFnYWluOiBmdW5jdGlvbiBsb2dpbkFnYWluKCkgewogICAgICB0aGlzLmVyckZvdW5kID0gZmFsc2U7CiAgICAgIHRoaXMuZGF0YUZvdW5kID0gZmFsc2U7CiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,IAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,SAAA,EAAA,KALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,KAPA;AAQA,MAAA,SAAA,EAAA,KARA;AASA,MAAA,YAAA,EAAA;AACA,QAAA,UAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,UAAA,EAAA;AAHA;AATA,KAAA;AAeA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA;AAAA,mFAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA;AACA,kBAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KADA;AAEA,kBAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAFA,iBADA;AAMA,gBAAA,IAAA,CACA,IADA,CACA,aADA,EACA,IADA,EAEA,IAFA;AAAA,qFAEA,iBAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCACA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,OADA;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAEA,IAFA;;AAAA;AAEA,4BAAA,KAAA,CAAA,QAFA;AAAA;AAAA,mCAGA,QAAA,CAAA,IAAA,CAAA,UAHA;;AAAA;AAGA,4BAAA,KAAA,CAAA,YAAA,CAAA,UAHA;AAAA;AAAA,mCAIA,QAAA,CAAA,IAAA,CAAA,MAJA;;AAAA;AAIA,4BAAA,KAAA,CAAA,YAAA,CAAA,MAJA;AAAA;AAAA,mCAKA,QAAA,CAAA,IAAA,CAAA,OALA;;AAAA;AAKA,4BAAA,KAAA,CAAA,YAAA,CAAA,UALA;AAAA;AAAA;;AAAA;AAMA,gCAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,SAAA,EAAA;AACA,8BAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,8BAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFA;;AAAA;AAAA;AAAA;AAAA;AAaA,qBAAA,SAAA,GAAA,IAAA;;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADA;AAsBA,IAAA,UAtBA,wBAsBA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA;AA1BA;AAlBA,CAAA","sourcesContent":["<template>\n    <div v-if=\"!errFound\">\n        <div v-if=\"!submitted\">\n            <div>\n                <h3>Natour - Login Page</h3>\n                <input type=\"email\" placeholder=\"Enter user email \" v-model=\"user.email\"><br><br>\n                <input type=\"password\" placeholder=\"Enter user password \" v-model=\"user.password\"><br><br>\n                <button @click=\"loginToNatour\">LOGIN NOW</button>\n            </div>\n        </div>\n        <div v-else>\n            <div v-if=\"dataFound\">\n                <strong>{{message}}</strong><br>\n                <router-link :to=\"{\n                        name: 'tours',\n                        params: {isLoggedIn: true}\n                        }\">\n                    continue to home page\n                </router-link>\n            </div>\n        </div>\n    </div>\n    <div v-else>\n        <p>{{errContainer.status}}</p>\n        <p>{{errContainer.errMessage}}</p>\n        <button @click=\"loginAgain\">login again</button>\n    </div>\n</template>\n<script>\n    import http from \"../http-common\"\n    export default{\n        data(){\n            return {\n                user:{\n                    email: \"\",\n                    password: \"\"\n                },\n                submitted: false,\n                message : \"\",\n                errFound: false,\n                dataFound: false,\n                errContainer: {\n                    statusCode : 0,\n                    status: \"\",\n                    errMessage: \"\"\n                }\n            }\n        },\n        methods:{\n            loginToNatour: async function(){\n                var data = {\n                    email: this.user.email,\n                    password: this.user.password\n                }\n\n                http\n                    .post(\"users/login\",data)\n                    .then( async (response)=> {\n                        if(response.data.status == \"Error\"){\n                            this.errFound = await true\n                            this.errContainer.statusCode = await response.data.statusCode\n                            this.errContainer.status = await response.data.status\n                            this.errContainer.errMessage = await response.data.message\n                        }else if(response.data.status == \"success\"){\n                            this.dataFound = true\n                            this.message = response.data.message\n                        }\n                    })\n                this.submitted= true\n            },\n            loginAgain(){\n                this.errFound =  false\n                this.dataFound = false\n                this.submitted = false\n            }\n        }\n    }\n</script>"],"sourceRoot":"src/components"}]}