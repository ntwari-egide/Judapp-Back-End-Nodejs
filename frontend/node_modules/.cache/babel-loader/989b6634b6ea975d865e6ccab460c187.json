{"remainingRequest":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js!/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ntwari/Documents/judapp/frontend/src/components/attorneyDashboard/dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ntwari/Documents/judapp/frontend/src/components/attorneyDashboard/dashboard.vue","mtime":1592299144115},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/babel-loader/lib/index.js","mtime":1588020407874},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1588020407950},{"path":"/home/ntwari/Documents/judapp/frontend/node_modules/vue-loader/lib/index.js","mtime":1588020497251}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0dHAgZnJvbSAiLi4vLi4vaHR0cC1jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhYmluZXQ6IFtdLAogICAgICBnZW5lcmFsTXNnOiBbXSwKICAgICAgc3RhcnRPZkNvbnZlcnNhdGlvbjogZmFsc2UsCiAgICAgIGdlbmVyYWxDbGllbnQ6IGZhbHNlLAogICAgICBtc2c6ICIiCiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICBpZiAoIXRoaXMuJHNlc3Npb24uZXhpc3RzKCkpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbkF0dG9ybmV5Jyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYWJpbmV0Q3JlZGVudGlhbHM6IGZ1bmN0aW9uIGdldENhYmluZXRDcmVkZW50aWFscygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGh0dHAuZ2V0KCJjYWJpbmV0cy8iICsgdGhpcy4kc2Vzc2lvbi5nZXQoImNhYmluZXRJZCIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmNhYmluZXQgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENsaWVudEdlbmVyYWw6IGZ1bmN0aW9uIGdldENsaWVudEdlbmVyYWwoY2FiaW5ldElkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaHR0cC5nZXQoIm1lc3NhZ2VzL2dldENsaWVudEdlbmVyYWwvIiArIGNhYmluZXRJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgICAgICBfdGhpczIuc3RhcnRPZkNvbnZlcnNhdGlvbiA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5zdGFydE9mQ29udmVyc2F0aW9uID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIuZ2VuZXJhbE1zZyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmdlbmVyYWxDbGllbnQgPSB0cnVlOwogICAgfSwKICAgIGdldENhYmluZXRHZW5lcmFsOiBmdW5jdGlvbiBnZXRDYWJpbmV0R2VuZXJhbChjYWJpbmV0SWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBodHRwLmdldCgibWVzc2FnZXMvZ2V0Q2FiaW5ldEdlbmVyYWwvIiArIGNhYmluZXRJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7CiAgICAgICAgICBfdGhpczMuc3RhcnRPZkNvbnZlcnNhdGlvbiA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy5zdGFydE9mQ29udmVyc2F0aW9uID0gZmFsc2U7CiAgICAgICAgICBfdGhpczMuZ2VuZXJhbE1zZyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmdlbmVyYWxDbGllbnQgPSBmYWxzZTsKICAgIH0sCiAgICBzZW5kR2VuZXJhbE1zZzogZnVuY3Rpb24gc2VuZEdlbmVyYWxNc2coY2FiaW5ldElkLCBhdHRvcm5leUlkKSB7CiAgICAgIGlmICh0aGlzLm1zZyAhPSAiIikgewogICAgICAgIGlmICh0aGlzLmdlbmVyYWxDbGllbnQpIHsKICAgICAgICAgIHZhciBfZGF0YSA9IHsKICAgICAgICAgICAgY2xpZW50R2VuZXJhbDogdHJ1ZSwKICAgICAgICAgICAgY2FiaW5ldElkOiBjYWJpbmV0SWQsCiAgICAgICAgICAgIHNlbmRlcnNJZDogYXR0b3JuZXlJZCwKICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQ6IHRoaXMubXNnCiAgICAgICAgICB9OwogICAgICAgICAgaHR0cC5wb3N0KCJtZXNzYWdlcyIsIF9kYXRhKTsKICAgICAgICAgIHRoaXMubXNnID0gIiI7CiAgICAgICAgICB0aGlzLmdldENsaWVudEdlbmVyYWwoY2FiaW5ldElkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIGNhYmluZXRHZW5lcmFsOiB0cnVlLAogICAgICAgICAgICBjYWJpbmV0SWQ6IGNhYmluZXRJZCwKICAgICAgICAgICAgc2VuZGVyc0lkOiBhdHRvcm5leUlkLAogICAgICAgICAgICBtZXNzYWdlQ29udGVudDogdGhpcy5tc2cKICAgICAgICAgIH07CiAgICAgICAgICBodHRwLnBvc3QoIm1lc3NhZ2VzIiwgZGF0YSk7CiAgICAgICAgICB0aGlzLm1zZyA9ICIiOwogICAgICAgICAgdGhpcy5nZXRDYWJpbmV0R2VuZXJhbChjYWJpbmV0SWQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJlZnJlc2hMaXN0OiBmdW5jdGlvbiByZWZyZXNoTGlzdCgpIHsKICAgICAgdGhpcy5nZXRDYWJpbmV0Q3JlZGVudGlhbHMoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJlZnJlc2hMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["dashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>     \n         <li v-for=\"(attorney, index) in this.$session.get('attorney')\" :key=\"index\"> \n\n<!--                            DASHBOARD STARTS HERE -->\n\n             <div class=\"main-container\">\n                <div class=\"action-pane left-pane\">\n                    <div class=\"profile\">\n                        <ul>\n                            <li>{{attorney.fullName}}</li>\n                        </ul>\n                    </div>\n                    <div class=\"location cabinet-credentials\">\n                        <div class=\"container\">\n                            <p>{{cabinet.provinceLoc}}</p>\n                            <p>{{cabinet.districtLoc}}</p>\n                            <p>{{cabinet.sectorLoc}}</p>     \n                        </div>                    \n                    </div>\n                    <div class=\"nav-bar\">\n                        <ul>\n                            <li><router-link :to=\"{name: 'attorney-dashboard'}\"> @general</router-link></li>\n                            <router-link :to=\"{name: 'attorney-cabinet'}\">@cabinet</router-link>\n                            <li><router-link :to=\"{name: 'attorney-client'}\">@client</router-link></li>\n                            <li><router-link :to=\"{name: 'services'}\">@services</router-link></li>\n                            <li><a href=\"\">@laws</a></li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"action-pane center-pane\">\n                    <p>One of the general messages</p>\n                    <li><a @click=\"getCabinetGeneral(cabinet._id)\" href=\"#\">cabinet general </a></li>\n                    <li><a @click=\"getClientGeneral(cabinet._id)\" href=\"#\">client general </a></li>\n                </div>\n                <div class=\"right-pane\">\n                      <div class=\"action-pane searchBox\"></div>                      \n                      <div class=\"action-pane chat-body-area\">\n                           <div v-if=\"!startOfConversation\">\n                               <li v-for=\"(msg, index) in generalMsg\" :key=\"index\">                                \n                                    <p>{{msg.message.messageContent}}</p>\n                                    <ul v-for=\"(sendersDetails, index) in msg.sendersDetails\" :key=\"index\">\n                                        <li class=\"text-success\">{{sendersDetails.fullName}}</li>\n                                    </ul>\n                                </li>\n                           </div>\n                           <div v-else>\n                               <p class=\"text-danger\">Start Of Conversation</p>\n                           </div>\n                      </div>\n                      <div class=\"action-pane chat-input-area\">\n                            <textarea v-model=\"msg\" cols=\"100\" rows=\"2\" placeholder=\"send message generally\"></textarea>\n                            <button @click=\"sendGeneralMsg(cabinet._id,attorney._id)\">SEND</button>\n                      </div>\n                </div>\n              </div>\n            <router-view @refreshData=\"refreshList\"></router-view>\n              \n              \n         </li> \n    </div>     \n</template>\n<script>\n    import http from \"../../http-common\"\n    export default ({\n        data(){\n            return {\n                cabinet: [],\n                generalMsg: [],\n                startOfConversation: false,\n                generalClient : false,\n                msg: \"\"\n            }\n        },\n        beforeCreate: function () {\n            if (!this.$session.exists()) {\n                    this.$router.push('/loginAttorney')\n            }\n        },\n        methods: {\n            getCabinetCredentials: function(){\n                http.get(\"cabinets/\"+this.$session.get(\"cabinetId\"))\n                    .then(response => {\n                        this.cabinet = response.data.data\n                    })\n            },\n            getClientGeneral: function(cabinetId){\n                http.get(\"messages/getClientGeneral/\"+cabinetId)\n                .then(response => {\n                        if(response.data.message){\n                            this.startOfConversation = true\n                        }\n                        else{\n                            this.startOfConversation = false\n                            this.generalMsg = response.data.data\n                        }                        \n                    })\n\n                    this.generalClient = true    \n            },\n\n            getCabinetGeneral: function(cabinetId){\n                http.get(\"messages/getCabinetGeneral/\"+cabinetId)\n                .then(response => {\n                        if(response.data.message){\n                            this.startOfConversation = true\n                        }\n                        else{\n                            this.startOfConversation = false\n                            this.generalMsg = response.data.data\n                        }                        \n                    })\n\n                    this.generalClient = false    \n            },\n            sendGeneralMsg: function(cabinetId,attorneyId){\n                if(this.msg != \"\"){\n                        if(this.generalClient){\n                        let data = {\n                            clientGeneral: true,\n                            cabinetId: cabinetId,\n                            sendersId: attorneyId,\n                            messageContent: this.msg\n                        }\n                        http.post(\"messages\",data)\n                        this.msg = \"\"\n\n                        this.getClientGeneral(cabinetId)\n                    }\n                    else{\n                        var data = {\n                            cabinetGeneral: true,\n                            cabinetId: cabinetId,\n                            sendersId: attorneyId,\n                            messageContent: this.msg\n                        }\n                        http.post(\"messages\",data)\n                        this.msg = \"\"\n\n                        this.getCabinetGeneral(cabinetId)\n                    }\n                }\n            },\n            refreshList: function(){\n                this.getCabinetCredentials()\n            }          \n        },\n        mounted() {\n            this.refreshList()\n        }\n    })\n</script>\n\n"],"sourceRoot":"src/components/attorneyDashboard"}]}